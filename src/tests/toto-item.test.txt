import * as React from 'react';
import { render, fireEvent } from '@testing-library/react';

import TodoItem from '../components/todo-list/todo-item';

import TodoProvider from '../context';

describe('TodoItem test', () => {
  let conteiner;

  beforeEach(() => {
    const item = {
      id: '001',
      date: '20.20.2020, 20:20:20',
      text: 'test',
    };

    conteiner = render(
      <TodoProvider>
        <TodoItem todo={item} key={item.id} />
      </TodoProvider>,
    );
  });

  test('should render TodoItem component', () => {
    const itemElement = conteiner.getByTestId('itemComponent');
    expect(itemElement).toBeDefined();
  });

  // test('should take a snapshot of the TodoItem component', () => {
  //   const itemElement = conteiner.getByTestId('itemComponent');
  //   expect(itemElement).toBeDefined();
  //   fireEvent.click(conteiner.getByText(/Delete/i));
  //   expect(itemElement).not.toBeDefined();
  // });
});
